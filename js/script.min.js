"use strict";const options={itemSelector:".grid-item",percentPosition:!0,gutter:".gutter-sizer",columnWidth:".grid-sizer"},pckry=new Packery(".grid__wrapper",options);window.addEventListener("load",()=>{pckry.layout(),document.querySelector("body").classList.remove("loading"),document.querySelectorAll('a[href^="#"]:not(.popup-link):not([name="header_currentLanguage"])').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();let t=this.getAttribute("href").substring(1),a=document.getElementById(t),i=a.getBoundingClientRect().top;window.scrollBy({top:i-0-130,behavior:"smooth"})})});let e;function t(){return"ontouchstart"in window}t()||pckry.getItemElements().forEach(function(t){e=new Draggabilly(t),pckry.bindDraggabillyEvents(e)});try{new Typed("#typed",{strings:["Write your own ticket!"],typeSpeed:200,startDelay:0,backSpeed:50,backDelay:2e3,loop:!0})}catch(a){}if(t()){let i=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting?setTimeout(()=>{e.target.classList.add("start-animation")},2500):e.target.classList.remove("start-animation")})});document.querySelectorAll(".grid-item-team").forEach(e=>{i.observe(e)})}t()&&gsap.timeline({scrollTrigger:{trigger:"body",start:"0",scrub:!0,onEnter(){ScrollTrigger.batch(".grid-item:not(.grid-item-team)",{interval:.1,batchMax:1,onEnter(e){e[0].classList.contains("we-write-books")?c():(e[0].classList.add("start-animation"),setTimeout(()=>{e[0].classList.remove("start-animation")},+e[0].dataset.delaymob))},onEnterBack(e){e[0].classList.contains("we-write-books")?c():(e[0].classList.add("start-animation"),setTimeout(()=>{e[0].classList.remove("start-animation")},+e[0].dataset.delaymob))},start:"top center",end:"top 100px"})},pin:!1}});let s=document.querySelectorAll(".home-video-play");s.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let a=e.closest(".home-video"),i=a.querySelector("video");a.classList.toggle("home-video_play"),i.paused?i.play():i.pause(),i.addEventListener("ended",()=>{a.classList.remove("home-video_play")}),i.addEventListener("pause",()=>{a.classList.remove("home-video_play")}),document.addEventListener("scroll",()=>{i.getBoundingClientRect().y<-100&&i.pause()})})});let o=document.querySelectorAll(".header__team-item");function r(e){this.classList.contains("header__team-item_active")&&!e.target.closest(".header-team-popup__wrap")?this.classList.remove("header__team-item_active"):(o.forEach(e=>{e.classList.remove("header__team-item_active")}),this.classList.add("header__team-item_active"))}o.forEach(e=>{e.addEventListener("click",r)});let l=!1,n=document.querySelector(".we-write-books");function c(e){let t=document.querySelector(".we-write-books");t.classList.contains("start-animation")&&l?(t.classList.remove("start-animation"),setTimeout(()=>{t.classList.add("start-animation")},100),l=!1):t.classList.add("start-animation"),document.querySelector(".line_1").addEventListener("animationend",function(e){l=!0})}try{n.addEventListener("mouseover",c)}catch(d){}if(!t()){let p=document.querySelectorAll(".grid-item:not(.we-write-books)");document.querySelectorAll(".grid-item"),p.forEach(e=>{e.addEventListener("mouseover",()=>{e.classList.add("start-animation"),setTimeout(()=>{e.classList.remove("start-animation")},e.dataset.delay||1e3)})})}popupLinks.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),document.querySelector("body").classList.add("body_popup-open"),document.querySelector(e.getAttribute("href")).classList.add("popup-open")})}),popupOverlays.forEach(e=>{e.addEventListener("click",closeAllPopup)}),popupClose.forEach(e=>{e.addEventListener("click",closeAllPopup)})});const popupLinks=document.querySelectorAll(".popup-link"),popups=document.querySelectorAll(".popup-block"),popupOverlays=document.querySelectorAll(".popup-block__overlay"),popupClose=document.querySelectorAll(".popup-block__close");function closeAllPopup(){document.querySelector("body").classList.remove("body_popup-open"),popups.forEach(e=>{e.classList.remove("popup-open")})}function copyToClickboard(e){navigator.clipboard.writeText(e.value);let t=document.createElement("i");t.setAttribute("class","bi bi-check2"),e.replaceChildren(t),setTimeout(function(){let t=document.createElement("i");t.setAttribute("class","bi bi-clipboard"),e.replaceChildren(t)},2e3)}const iti=intlTelInput(document.getElementById("phone"),{separateDialCode:!0,preferredCountries:["ua","us"]});let registerCourseForm=document.getElementById("registerCourseForm");function sendRegisterRequest(e){e.preventDefault(),cancelValidationBorder();let t=!0;if(this.policy.checked||(this.policy.classList.add("invalid"),t=!1),(this.name.value.length>100||this.name.value.length<1)&&(this.name.parentElement.classList.add("invalid"),t=!1),(this.email.value.length>100||this.email.value.length<1)&&(this.email.parentElement.classList.add("invalid"),t=!1),this.phone.value||(this.phone.parentElement.parentElement.classList.add("invalid"),t=!1),this.course.value||(this.course.parentElement.classList.add("invalid"),t=!1),!t)return;let a=this.name.value,i=this.email.value,s=iti.s.dialCode,o;fetch("https://docs.google.com/forms/d/e/1FAIpQLSccf7WdfEaVK95-tgVP8lzaENGC1er5G5FDZWnu8QRqGH-MbQ/formResponse",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"entry.1239952446="+a+"&entry.2046075764="+i+"&entry.1314615058="+s+"&entry.2134381035="+this.phone.value+"&entry.1078540857="+this.course.value+"&fvv=1&partialResponse=%5Bnull%2Cnull%2C%224625185403490877421%22%5D&pageHistory=0&fbzx=4625185403490877421"}),closeAllPopup(),iti.setCountry("ua"),this.name.value="",this.email.value="",this.phone.value="",this.course.value="",this.policy.checked=!1}function cancelValidationBorder(){let e=[...document.getElementsByClassName("invalid")];for(let t of e)t.classList.remove("invalid")}registerCourseForm.addEventListener("submit",sendRegisterRequest);